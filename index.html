<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>洄瀾溪谷秘境探險 | 花蓮溯溪體驗</title>

    <link rel="stylesheet" href="styles.css">

    <style>
        body {
            font-family: 'Microsoft JhengHei', 'PingFang TC', 'Noto Sans TC', sans-serif;
            line-height: 1.8;
            color: #333;
            margin: 0;
        }
        /* ====== 版面樣式（與你原本一致，未動） ====== */
        .accordion-section { margin-bottom: 20px; border: 1px solid #ddd; border-radius: 12px; overflow: hidden; }
        .accordion-header { background: #2E86AB; color: white; padding: 18px 25px; cursor: pointer; font-weight: bold; }
        .accordion-content { padding: 25px; display: none; }
        .accordion-content.active { display: block; }
        #calendarContainer { display: flex; gap: 30px; overflow-x: auto; }
        .month-calendar { width: 380px; background: white; border-radius: 12px; padding: 20px; }
        .calendar td { height: 75px; border: 1px solid #eee; cursor: pointer; }
        .green { background: #d4edda; }
        .yellow { background: #fff3cd; }
        .red { background: #f8d7da; cursor: not-allowed; }
    </style>
</head>

<body>

<header>
    <nav>
        <div class="logo">洄瀾溪谷探險</div>
        <ul>
            <li><a href="#home">首頁</a></li>
            <li><a href="#trips">探險路線</a></li>
            <li><a href="#about">關於我們</a></li>
            <li><a href="#contact">聯絡我們</a></li>
        </ul>
    </nav>
</header>

<main>
<section id="trips">
    <button onclick="openBooking('西林秘境', 3500)">立即預訂</button>
</section>
</main>

<!-- ===== 預訂彈窗 ===== -->
<div id="bookingModal" style="display:none;">
    <div>
        <span onclick="closeBooking()">×</span>
        <h2>立即預訂</h2>
        <div id="calendarContainer"></div>
    </div>
</div>

<footer>
    <p>© 2026 洄瀾溪谷秘境探險</p>
</footer>

<!-- ✅ 一定要先載 Supabase SDK -->
<script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>

<!-- ✅ 防呆：確保 onclick 一定不會爆 -->
<script>
    window.openBooking = function(name, price) {
        console.log('openBooking fallback', name, price);
        document.getElementById('bookingModal').style.display = 'block';
    };

    window.closeBooking = function () {
        document.getElementById('bookingModal').style.display = 'none';
    };
</script>

<!-- ✅ 你的主要邏輯（這裡才是真正跑 Supabase RPC） -->
<script src="script.js" defer></script>

</body>
</html>
